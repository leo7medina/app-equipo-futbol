{"ast":null,"code":"import _classCallCheck from \"/home/asus-pc/WorkSpacesProjectGH/app-equipo-futbol/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/home/asus-pc/WorkSpacesProjectGH/app-equipo-futbol/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport { TeamService, TeamTableHeadres } from '../../services/team.service';\nimport { take } from 'rxjs/operators';\nimport { Countries } from '../../interfaces/player';\nimport { ModalDismissReasons, NgbModal } from '@ng-bootstrap/ng-bootstrap';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/team.service\";\nimport * as i2 from \"@ng-bootstrap/ng-bootstrap\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\n\nfunction TeamTableComponent_th_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var header_r4 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(header_r4);\n  }\n}\n\nfunction TeamTableComponent_tr_16_p_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var player_r7 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(player_r7.name);\n  }\n}\n\nfunction TeamTableComponent_tr_16_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r9 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtemplate(6, TeamTableComponent_tr_16_p_6_Template, 2, 1, \"p\", 4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\")(8, \"button\", 7);\n    i0.ɵɵlistener(\"click\", function TeamTableComponent_tr_16_Template_button_click_8_listener() {\n      var restoredCtx = i0.ɵɵrestoreView(_r9);\n      var team_r5 = restoredCtx.$implicit;\n      var ctx_r8 = i0.ɵɵnextContext();\n\n      var _r2 = i0.ɵɵreference(19);\n\n      return ctx_r8.editTeam(team_r5, _r2);\n    });\n    i0.ɵɵelement(9, \"span\", 8);\n    i0.ɵɵtext(10, \" Editar \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(11, \" \\xA0 \");\n    i0.ɵɵelementStart(12, \"button\", 9);\n    i0.ɵɵlistener(\"click\", function TeamTableComponent_tr_16_Template_button_click_12_listener() {\n      var restoredCtx = i0.ɵɵrestoreView(_r9);\n      var team_r5 = restoredCtx.$implicit;\n      var ctx_r10 = i0.ɵɵnextContext();\n      return ctx_r10.deleteTeam(team_r5);\n    });\n    i0.ɵɵelement(13, \"span\", 10);\n    i0.ɵɵtext(14, \" Eliminar \");\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    var team_r5 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(team_r5.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(team_r5.country);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", team_r5.players);\n  }\n}\n\nfunction TeamTableComponent_ng_template_18_option_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 24);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var nationality_r14 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", nationality_r14.key);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(nationality_r14.label);\n  }\n}\n\nfunction TeamTableComponent_ng_template_18_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r16 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 11)(1, \"h4\", 12);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 13);\n    i0.ɵɵlistener(\"click\", function TeamTableComponent_ng_template_18_Template_button_click_3_listener() {\n      var restoredCtx = i0.ɵɵrestoreView(_r16);\n      var modal_r11 = restoredCtx.$implicit;\n      var ctx_r15 = i0.ɵɵnextContext();\n      return ctx_r15.onCloseModal(modal_r11);\n    });\n    i0.ɵɵelementStart(4, \"span\", 14);\n    i0.ɵɵtext(5, \"\\xD7\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(6, \"div\", 15)(7, \"form\", 16, 17);\n    i0.ɵɵlistener(\"ngSubmit\", function TeamTableComponent_ng_template_18_Template_form_ngSubmit_7_listener() {\n      var restoredCtx = i0.ɵɵrestoreView(_r16);\n      var modal_r11 = restoredCtx.$implicit;\n\n      var _r12 = i0.ɵɵreference(8);\n\n      var ctx_r17 = i0.ɵɵnextContext();\n      return ctx_r17.onSubmit(_r12, modal_r11);\n    });\n    i0.ɵɵelementStart(9, \"div\", 18)(10, \"label\");\n    i0.ɵɵtext(11, \"Name:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(12, \"input\", 19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"div\", 18)(14, \"label\");\n    i0.ɵɵtext(15, \"Country:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"select\", 20);\n    i0.ɵɵtemplate(17, TeamTableComponent_ng_template_18_option_17_Template, 2, 2, \"option\", 21);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(18, \"div\", 22)(19, \"button\", 23);\n    i0.ɵɵtext(20, \"Submit\");\n    i0.ɵɵelementEnd()()()();\n  }\n\n  if (rf & 2) {\n    var ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r3.team ? \"Edit\" : \"New\", \" Team Form\");\n    i0.ɵɵadvance(10);\n    i0.ɵɵproperty(\"ngModel\", ctx_r3.team == null ? null : ctx_r3.team.name);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r3.team == null ? null : ctx_r3.team.country);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.countries);\n  }\n}\n\nexport var TeamTableComponent = /*#__PURE__*/(function () {\n  var TeamTableComponent = /*#__PURE__*/function () {\n    function TeamTableComponent(teamService, modalService) {\n      _classCallCheck(this, TeamTableComponent);\n\n      this.teamService = teamService;\n      this.modalService = modalService;\n      this.tableHeaders = TeamTableHeadres;\n      this.showModal = false;\n      this.countries = Object.keys(Countries).map(function (key) {\n        return {\n          label: key,\n          key: Countries[key]\n        };\n      });\n    }\n\n    _createClass(TeamTableComponent, [{\n      key: \"ngOnInit\",\n      value: function ngOnInit() {\n        var _this = this;\n\n        this.teams$ = this.teamService.getTeams();\n        this.teamService.getTeams().pipe(take(1)).subscribe(function (teams) {\n          if (teams.length === 0) {\n            var team = {\n              name: 'MyAmazingTeam',\n              country: Countries.Argentina,\n              players: null\n            };\n\n            _this.teamService.addTeam(team);\n          }\n        });\n      }\n      /*newTeam() {\n        this.showModal = true;\n        this.selectedTeam = null;\n        setTimeout(() => {\n          window.location.replace('#/open-modalTeam');\n        });\n      }*/\n\n    }, {\n      key: \"newTeam\",\n      value: function newTeam(content) {\n        var _this2 = this;\n\n        this.showModal = true;\n        this.selectedTeam = null;\n        this.team = null;\n        var modalRef = this.modalService.open(content, {\n          ariaLabelledBy: 'modal-basic-title'\n        });\n        modalRef.result.then(function (result) {\n          _this2.closeResult = \"Closed with: \".concat(result);\n          console.log(_this2.closeResult);\n        }, function (reason) {\n          _this2.closeResult = \"Dismissed \".concat(_this2.getDismissReason(reason));\n          console.log(_this2.closeResult);\n        });\n        /*const modalRef = this.modalService.open(ModalComponent);\n        modalRef.result.then((result) => {\n          console.log(result);\n        }).catch((error) => {\n          console.log(error);\n        });*/\n      }\n    }, {\n      key: \"getDismissReason\",\n      value: function getDismissReason(reason) {\n        if (reason === ModalDismissReasons.ESC) {\n          return 'by pressing ESC';\n        } else if (reason === ModalDismissReasons.BACKDROP_CLICK) {\n          return 'by clicking on a backdrop';\n        } else {\n          return \"with: \".concat(reason);\n        }\n      }\n    }, {\n      key: \"editTeam\",\n      value: function editTeam(team, content) {\n        var _this3 = this;\n\n        this.selectedTeam = Object.assign({}, team);\n        this.showModal = true;\n        this.team = Object.assign({}, team);\n        var modalRef = this.modalService.open(content, {\n          ariaLabelledBy: 'modal-basic-title'\n        });\n        modalRef.result.then(function (result) {\n          _this3.closeResult = \"Closed with: \".concat(result);\n          console.log(_this3.closeResult);\n        }, function (reason) {\n          _this3.closeResult = \"Dismissed \".concat(_this3.getDismissReason(reason));\n          console.log(_this3.closeResult);\n        });\n        /*setTimeout( () => {\n          window.location.replace('#open-modalTeam');\n        });*/\n      }\n    }, {\n      key: \"deleteTeam\",\n      value: function deleteTeam(team) {\n        this.teamService.deleteTeam(team.$key);\n      }\n    }, {\n      key: \"closeDialog\",\n      value: function closeDialog() {\n        this.showModal = false;\n        this.selectedTeam = null;\n      }\n    }, {\n      key: \"onCloseModal\",\n      value: function onCloseModal(modal, result) {\n        var str = 'Closed Modal';\n\n        if (result) {\n          str = result;\n        }\n\n        modal.close(str);\n      }\n    }, {\n      key: \"onSubmit\",\n      value: function onSubmit(teamForm, modal) {\n        var teamFormValue = Object.assign({}, teamForm.value);\n\n        if (this.team) {\n          this.editTeamForm(teamFormValue);\n        } else {\n          this.newTeamForm(teamFormValue);\n        } // window.location.replace('#');\n\n\n        this.onCloseModal(modal, 'Closed Modal Submit');\n      }\n    }, {\n      key: \"newTeamForm\",\n      value: function newTeamForm(teamFromValue) {\n        this.teamService.addTeam(teamFromValue);\n      }\n    }, {\n      key: \"editTeamForm\",\n      value: function editTeamForm(teamFromValue) {\n        var teamFromValueWithKey = Object.assign(Object.assign({}, teamFromValue), {\n          $key: this.team.$key\n        });\n        this.teamService.editTeam(teamFromValueWithKey);\n      }\n    }]);\n\n    return TeamTableComponent;\n  }();\n\n  TeamTableComponent.ɵfac = function TeamTableComponent_Factory(t) {\n    return new (t || TeamTableComponent)(i0.ɵɵdirectiveInject(i1.TeamService), i0.ɵɵdirectiveInject(i2.NgbModal));\n  };\n\n  TeamTableComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: TeamTableComponent,\n    selectors: [[\"app-team-table\"]],\n    decls: 20,\n    vars: 4,\n    consts: [[1, \"container\"], [\"type\", \"button\", 1, \"btn\", \"btn-info\", 3, \"click\"], [1, \"tbl-header\"], [\"cellpadding\", \"0\", \"cellspacing\", \"0\", \"border\", \"0\"], [4, \"ngFor\", \"ngForOf\"], [1, \"tbl-content\"], [\"modalData\", \"\"], [\"type\", \"button\", \"title\", \"Edit Team\", 1, \"btn\", \"btn-primary\", 3, \"click\"], [1, \"fa\", \"fa-pencil\"], [\"type\", \"button\", \"title\", \"Delete Team\", 1, \"btn\", \"btn-primary\", 3, \"click\"], [1, \"fa\", \"fa-trash\"], [1, \"modal-header\"], [\"id\", \"modal-team-form\", 1, \"modal-title\"], [\"type\", \"button\", \"aria-label\", \"Close\", 1, \"close\", 3, \"click\"], [\"aria-hidden\", \"true\"], [1, \"modal-body\"], [\"novalidate\", \"\", 3, \"ngSubmit\"], [\"teamForm\", \"ngForm\"], [1, \"form-group\"], [\"type\", \"text\", \"name\", \"name\", \"ngModel\", \"\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\"], [\"name\", \"country\", \"ngModel\", \"\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [1, \"submit-container\"], [\"type\", \"submit\"], [3, \"value\"]],\n    template: function TeamTableComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        var _r18 = i0.ɵɵgetCurrentView();\n\n        i0.ɵɵelementStart(0, \"section\")(1, \"h1\");\n        i0.ɵɵtext(2, \"My Team\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"div\", 0)(4, \"button\", 1);\n        i0.ɵɵlistener(\"click\", function TeamTableComponent_Template_button_click_4_listener() {\n          i0.ɵɵrestoreView(_r18);\n\n          var _r2 = i0.ɵɵreference(19);\n\n          return ctx.newTeam(_r2);\n        });\n        i0.ɵɵtext(5, \" New Team\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(6, \"div\", 2)(7, \"table\", 3)(8, \"thead\")(9, \"tr\");\n        i0.ɵɵtemplate(10, TeamTableComponent_th_10_Template, 2, 1, \"th\", 4);\n        i0.ɵɵelementStart(11, \"th\");\n        i0.ɵɵtext(12, \"Actions\");\n        i0.ɵɵelementEnd()()()()();\n        i0.ɵɵelementStart(13, \"div\", 5)(14, \"table\", 3)(15, \"tbody\");\n        i0.ɵɵtemplate(16, TeamTableComponent_tr_16_Template, 15, 3, \"tr\", 4);\n        i0.ɵɵpipe(17, \"async\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵtemplate(18, TeamTableComponent_ng_template_18_Template, 21, 4, \"ng-template\", null, 6, i0.ɵɵtemplateRefExtractor);\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(10);\n        i0.ɵɵproperty(\"ngForOf\", ctx.tableHeaders);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(17, 2, ctx.teams$));\n      }\n    },\n    directives: [i3.NgForOf, i4.ɵNgNoValidate, i4.NgControlStatusGroup, i4.NgForm, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgModel, i4.RequiredValidator, i4.SelectControlValueAccessor, i4.NgSelectOption, i4.ɵNgSelectMultipleOption],\n    pipes: [i3.AsyncPipe],\n    styles: [\"\"]\n  });\n  return TeamTableComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}