{"ast":null,"code":"import _classCallCheck from \"/home/asus-pc/WorkSpacesProjectGH/app-equipo-futbol/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/home/asus-pc/WorkSpacesProjectGH/app-equipo-futbol/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport { TemplateRef } from '@angular/core';\nimport { TeamService, TeamTableHeadres } from '../../services/team.service';\nimport { take } from 'rxjs/operators';\nimport { Countries } from '../../interfaces/player';\nimport { ModalDismissReasons, NgbModal } from '@ng-bootstrap/ng-bootstrap';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/team.service\";\nimport * as i2 from \"@ng-bootstrap/ng-bootstrap\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"../team-dialog/team-dialog.component\";\n\nfunction TeamTableComponent_th_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var header_r4 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(header_r4);\n  }\n}\n\nfunction TeamTableComponent_tr_16_p_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var player_r7 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(player_r7.name);\n  }\n}\n\nfunction TeamTableComponent_tr_16_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r9 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtemplate(6, TeamTableComponent_tr_16_p_6_Template, 2, 1, \"p\", 4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\")(8, \"button\", 7);\n    i0.ɵɵlistener(\"click\", function TeamTableComponent_tr_16_Template_button_click_8_listener() {\n      var restoredCtx = i0.ɵɵrestoreView(_r9);\n      var team_r5 = restoredCtx.$implicit;\n      var ctx_r8 = i0.ɵɵnextContext();\n      return ctx_r8.editTeam(team_r5);\n    });\n    i0.ɵɵelement(9, \"span\", 8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(10, \" \\xA0 \");\n    i0.ɵɵelementStart(11, \"button\", 9);\n    i0.ɵɵlistener(\"click\", function TeamTableComponent_tr_16_Template_button_click_11_listener() {\n      var restoredCtx = i0.ɵɵrestoreView(_r9);\n      var team_r5 = restoredCtx.$implicit;\n      var ctx_r10 = i0.ɵɵnextContext();\n      return ctx_r10.deleteTeam(team_r5);\n    });\n    i0.ɵɵelement(12, \"span\", 10);\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    var team_r5 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(team_r5.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(team_r5.country);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", team_r5.players);\n  }\n}\n\nfunction TeamTableComponent_ng_template_18_app_team_dialog_0_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r13 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"app-team-dialog\", 12);\n    i0.ɵɵlistener(\"closeDialog\", function TeamTableComponent_ng_template_18_app_team_dialog_0_Template_app_team_dialog_closeDialog_0_listener() {\n      i0.ɵɵrestoreView(_r13);\n      var ctx_r12 = i0.ɵɵnextContext(2);\n      return ctx_r12.closeDialog();\n    });\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var ctx_r11 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"team\", ctx_r11.selectedTeam);\n  }\n}\n\nfunction TeamTableComponent_ng_template_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, TeamTableComponent_ng_template_18_app_team_dialog_0_Template, 1, 1, \"app-team-dialog\", 11);\n  }\n\n  if (rf & 2) {\n    var ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.showModal);\n  }\n}\n\nexport var TeamTableComponent = /*#__PURE__*/(function () {\n  var TeamTableComponent = /*#__PURE__*/function () {\n    function TeamTableComponent(teamService, modalService) {\n      _classCallCheck(this, TeamTableComponent);\n\n      this.teamService = teamService;\n      this.modalService = modalService;\n      this.tableHeaders = TeamTableHeadres;\n      this.showModal = false;\n    }\n\n    _createClass(TeamTableComponent, [{\n      key: \"ngOnInit\",\n      value: function ngOnInit() {\n        var _this = this;\n\n        this.teams$ = this.teamService.getTeams();\n        this.teamService.getTeams().pipe(take(1)).subscribe(function (teams) {\n          if (teams.length === 0) {\n            var team = {\n              name: 'MyAmazingTeam',\n              country: Countries.Argentina,\n              players: null\n            };\n\n            _this.teamService.addTeam(team);\n          }\n        });\n      }\n      /*newTeam() {\n        this.showModal = true;\n        this.selectedTeam = null;\n        setTimeout(() => {\n          window.location.replace('#/open-modalTeam');\n        });\n      }*/\n\n    }, {\n      key: \"open\",\n      value: function open(content) {\n        var _this2 = this;\n\n        this.showModal = true;\n        this.selectedTeam = null;\n        this.modalService.open(content, {\n          ariaLabelledBy: 'modal-basic-title'\n        }).result.then(function (result) {\n          _this2.closeResult = \"Closed with: \".concat(result);\n        }, function (reason) {\n          _this2.closeResult = \"Dismissed \".concat(_this2.getDismissReason(reason));\n        });\n      }\n    }, {\n      key: \"getDismissReason\",\n      value: function getDismissReason(reason) {\n        if (reason === ModalDismissReasons.ESC) {\n          return 'by pressing ESC';\n        } else if (reason === ModalDismissReasons.BACKDROP_CLICK) {\n          return 'by clicking on a backdrop';\n        } else {\n          return \"with: \".concat(reason);\n        }\n      }\n    }, {\n      key: \"editTeam\",\n      value: function editTeam(team) {\n        this.selectedTeam = Object.assign({}, team);\n        this.showModal = true;\n        setTimeout(function () {\n          window.location.replace('#open-modalTeam');\n        });\n      }\n    }, {\n      key: \"deleteTeam\",\n      value: function deleteTeam(team) {\n        this.teamService.deleteTeam(team.$key);\n      }\n    }, {\n      key: \"closeDialog\",\n      value: function closeDialog() {\n        this.showModal = false;\n        this.selectedTeam = null;\n      }\n    }]);\n\n    return TeamTableComponent;\n  }();\n\n  TeamTableComponent.ɵfac = function TeamTableComponent_Factory(t) {\n    return new (t || TeamTableComponent)(i0.ɵɵdirectiveInject(i1.TeamService), i0.ɵɵdirectiveInject(i2.NgbModal));\n  };\n\n  TeamTableComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: TeamTableComponent,\n    selectors: [[\"app-team-table\"]],\n    decls: 20,\n    vars: 4,\n    consts: [[1, \"container\"], [\"type\", \"button\", 1, \"btn\", \"btn-info\", 3, \"click\"], [1, \"tbl-header\"], [\"cellpadding\", \"0\", \"cellspacing\", \"0\", \"border\", \"0\"], [4, \"ngFor\", \"ngForOf\"], [1, \"tbl-content\"], [\"appModalTeam\", \"\"], [\"type\", \"button\", \"title\", \"Edit Team\", 1, \"btn\", \"btn-default\", 3, \"click\"], [1, \"fa\", \"fa-pencil\"], [\"type\", \"button\", \"title\", \"Delete Team\", 1, \"btn\", \"btn-default\", 3, \"click\"], [1, \"fa\", \"fa-trash\"], [3, \"team\", \"closeDialog\", 4, \"ngIf\"], [3, \"team\", \"closeDialog\"]],\n    template: function TeamTableComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        var _r14 = i0.ɵɵgetCurrentView();\n\n        i0.ɵɵelementStart(0, \"section\")(1, \"h1\");\n        i0.ɵɵtext(2, \"My Team\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"div\", 0)(4, \"button\", 1);\n        i0.ɵɵlistener(\"click\", function TeamTableComponent_Template_button_click_4_listener() {\n          i0.ɵɵrestoreView(_r14);\n\n          var _r2 = i0.ɵɵreference(19);\n\n          return ctx.open(_r2);\n        });\n        i0.ɵɵtext(5, \" New Team\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(6, \"div\", 2)(7, \"table\", 3)(8, \"thead\")(9, \"tr\");\n        i0.ɵɵtemplate(10, TeamTableComponent_th_10_Template, 2, 1, \"th\", 4);\n        i0.ɵɵelementStart(11, \"th\");\n        i0.ɵɵtext(12, \"Actions\");\n        i0.ɵɵelementEnd()()()()();\n        i0.ɵɵelementStart(13, \"div\", 5)(14, \"table\", 3)(15, \"tbody\");\n        i0.ɵɵtemplate(16, TeamTableComponent_tr_16_Template, 13, 3, \"tr\", 4);\n        i0.ɵɵpipe(17, \"async\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵtemplate(18, TeamTableComponent_ng_template_18_Template, 1, 1, \"ng-template\", null, 6, i0.ɵɵtemplateRefExtractor);\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(10);\n        i0.ɵɵproperty(\"ngForOf\", ctx.tableHeaders);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(17, 2, ctx.teams$));\n      }\n    },\n    directives: [i3.NgForOf, i3.NgIf, i4.TeamDialogComponent],\n    pipes: [i3.AsyncPipe],\n    styles: [\"\"]\n  });\n  return TeamTableComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}